3) 現時点で「未完/要注意」と判断したポイント（重要度順）
A. 成績（点数）のFirestore本保存が未完

score_input.html 側に「本保存はこのあと段階的に実装」と書かれており、保存ボタンも disabled です。
➡️ 次に埋めるべき最大の穴です（ここが完成しないと運用できない）。

B. “評価基準はロックあり” なのに “成績入力はロック無し”

評価基準は evaluationLocks_{year} で排他制御があります。

evaluation

一方で成績入力は（少なくとも提示スニペット範囲では）同等のロック機構が見えません。
➡️ 複数教員が同時に触る科目がある前提なら、成績側にも「科目×学年/組×期間」の粒度でロックか、行単位の楽観ロック（updatedAt比較）を入れた方が安全です。

C. 選択科目の受講者登録データ構造が“学生オブジェクト丸ごと”

electiveRegistrations_{year} に students: selected として学生の全情報を配列で保存しています。

score_input_loader


➡️ 学生情報（氏名変更等）があった時に齟齬が出ます。
推奨：students: [studentId, ...] だけ保持し、表示時は students マスタから join。

D. updatedAt: new Date() が混在

選択科目登録で updatedAt: new Date() を使っています。

score_input_loader


➡️ クライアント時計依存になるので、できれば serverTimestamp() に寄せた方が監査・整合性が上がります（評価基準側は serverTimestamp を使っています）。

evaluation

E. Firebase設定が各HTML/JSに分散＆直書き

evaluation.html や score_input_loader.js など複数箇所に firebaseConfig が直書きです。
➡️ 事故の元なので、firebase_init.js 的な単一モジュールへ集約推奨（運用上の差し替え・環境切替が楽）。 